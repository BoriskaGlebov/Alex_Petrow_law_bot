# Alex Petrow Law Bot

Alex Petrow Law Bot — это Telegram-бот для сбора и обработки заявок пользователей администраторами.

## Функционал

Бот поддерживает следующие команды:
- `/start` — начало работы, создание заявки.
- `/admin` — режим администратора (доступен только для администраторов, ожидает появление новых заявок).
- `/faq` — ответы на часто задаваемые вопросы.
- `/help` — информация о функциях бота.

## Установка и запуск

### 1. Подготовка окружения
Перед запуском необходимо создать `.env` файл со следующими параметрами:

```ini
DB_USER = some_user # здесь указать своего пользователся
DB_PASSWORD = some_password # здесь указать пароль
DB_HOST = db
DB_PORT = 5432
DB_NAME = tlg_bot
BOT_TOKEN = 7824055801:№№№№№№№№№№№№№ # свой токен бот
ADMIN_IDS = [439653349,7864309617] список админов
BASE_DIR = /Alex_Petrow_law_bot
REDIS_LOGIN = default
REDIS_PASSWORD = password
REDIS_HOST = redis
NUM_DB = 0
```

### 2. Запуск через Docker
Бот поддерживает запуск через `docker-compose`. Чтобы развернуть его, выполните:

```sh
docker-compose up --build -d
```

Это соберет и запустит контейнеры в фоновом режиме.

### 3. Миграции базы данных (если необходимо)
Если нужно выполнить миграции для базы данных, используйте Alembic:

```sh
alembic upgrade head
```

## Технологии
- Python (Aiogram3, SQLAlchemy, Alembic)
- PostgreSQL
- Redis
- Aiogram (для работы с Telegram API)
- Docker, Docker Compose

## Разработка и тестирование
Если вы хотите разрабатывать или тестировать бота локально, выполните:

```sh
python bot/main.py
```

Для работы с тестовой базой данных можно задать `DB_NAME=test_tlg_bot` в `.env` файле.

## Контакты
Если у вас есть вопросы или предложения, свяжитесь с автором проекта.

Это команда для запуска линтера ruff

```bash
ruff check --fix . && ruff format .

```